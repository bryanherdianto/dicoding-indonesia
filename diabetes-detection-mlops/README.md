# Diabetes Detection with Machine Learning Pipeline and Pipeline Orchestrator

| | Description |
| ----------- | ----------- |
| **Dataset** | [Diabetes Dataset](https://www.kaggle.com/datasets/lara311/diabetes-dataset-using-many-medical-metrics) |
| **Problem** | Detecting the presence of diabetes in patients often requires manual checking, which can be inaccurate. Using machine learning algorithms, diabetes can be detected quickly and accurately by analyzing clinical features such as Body Mass Index (BMI), age, blood sugar levels, blood pressure, and other health factors. |
| **Machine Learning Solution** | This project utilizes a classification model to predict whether a particular patient has diabetes or not. |
| **Data Processing Method** | Numerical label data (e.g., 0 or 1) is converted into one-hot vectors through one-hot encoding, which represents categorical data as binary vectors. Tensor labels consisting of values 0 or 1 are transformed into binary vectors of length 2. Additionally, feature values are normalized to a range of 0 to 1, ensuring that raw values with different ranges are scaled consistently. Labels are cast to 64-bit integer data type using `tf.cast` to ensure compatibility with the model or subsequent processes. |
| **Model Architecture** | The model consists of several Dense layers for further feature processing. Transformed features (Pregnancies_xf, Glucose_xf, BloodPressure_xf, SkinThickness_xf, Insulin_xf, BMI_xf, DiabetesPedigreeFunction_xf, and Age_xf) are combined using a Concatenate layer. The first Dense layer with 256 units and activation function processes the combined features. The second Dense layer with 64 units processes the output from the previous layer, followed by the third Dense layer with 16 units. The results from these layers are used for the final classification or prediction stage of the model. |
| **Evaluation Metrics** | This project utilizes AUC, Precision, Recall, and Binary Accuracy as metrics to evaluate how well the model handles classification problems. 1) **Binary Accuracy** measures how often the model's predictions are correct in binary classification, calculated as the ratio of correct predictions to the total number of predictions. 2) **AUC (Area Under the ROC Curve)** measures the model's ability to distinguish between positive and negative classes, providing an overview of model performance across different classification thresholds. 3) **Precision** is the ratio of correctly predicted positive observations to the total predicted positives, indicating how many of the model's positive predictions are actually positive. 4) **Recall** is the ratio of correctly predicted positive observations to all actual positives, measuring how well the model detects all positive examples. |
| **Model Performance** | The model is expected to perform well in detecting diabetes in patients. It achieved 100% accuracy on training data and 70% on validation data, indicating that the model is fairly effective in detecting diabetes. |
| **Deployment Options** | The model is deployed using Heroku, a cloud platform as a service (PaaS) that allows developers to build, run, and operate applications entirely in the cloud. For this project, the model is deployed using Herokuâ€™s Container Registry, which enables deployment of applications to Heroku using Docker containers. |
| **Web App** | Web app link for accessing model serving: [diabetes-detection](https://diabetes-detection-8a31c5bf0c49.herokuapp.com/v1/models/serving_model/metadata). **Note:** If the link is not working, the model is currently offline to save costs. |
| **Monitoring** | Model serving is monitored using Prometheus. Prometheus provides various metrics related to the TensorFlow Serving model, such as `tensorflow:cc:serving:request_count`, which shows the number of requests received by the model serving within a specified time range. |

### Additional Information
To manage costs effectively, the Heroku app hosting this model is not always live. If you find that the model is currently offline, please reach out to me via email to request access. I will promptly make the model live for you to interact with.
